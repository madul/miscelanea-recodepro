{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\maria\\\\Documents\\\\Recode\\\\Curso\\\\ModuloNoSQL\\\\PitangaCos\\\\frontend\\\\src\\\\pages\\\\Stores\\\\Stores.js\";\nimport React from 'react';\nimport { useState, useEffect, useRef } from 'react';\nimport Header from '../../components/Header/Header';\nimport Footer from '../../components/Footer/Footer';\nimport './Stores.module.css';\n\nfunction Store(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"store\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: props.store.store_name ? props.store.store_name : props.store.city\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [props.store.logradouro, \", \", props.store.store_number]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this), props.store.complement ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: props.store.complement\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 33\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"p\", {\n      children: props.store.nbh\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"(\", props.store.phone.toString().slice(0, 2), \") \", props.store.phone.toString().slice(2, 6), \"-\", props.store.phone.toString().slice(6)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }, this);\n}\n\nfunction Stores(props) {\n  const {\n    0: stores,\n    1: setStores\n  } = useState([]);\n  const mounted = useRef(true); //console.log(\"store props: \",props);\n\n  useEffect(() => {\n    const url = \"http://localhost:3001/stores\";\n    fetch(url).then(response => response.json()).then(stores => {\n      if (mounted.current) {\n        setStores(stores.stores);\n      }\n    });\n    return () => mounted.current = false;\n  }, [stores]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"sectionTitle\",\n        children: \"Lojas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"stores\",\n        children: stores && stores.map(store => /*#__PURE__*/_jsxDEV(Store, {\n          store: store\n        }, store.store_id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\nexport default Stores;","map":{"version":3,"sources":["C:/Users/maria/Documents/Recode/Curso/ModuloNoSQL/PitangaCos/frontend/src/pages/Stores/Stores.js"],"names":["React","useState","useEffect","useRef","Header","Footer","Store","props","store","store_name","city","logradouro","store_number","complement","nbh","phone","toString","slice","Stores","stores","setStores","mounted","url","fetch","then","response","json","current","map","store_id"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,EAAkBC,SAAlB,EAA6BC,MAA7B,QAA0C,OAA1C;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AAEA,OAAO,qBAAP;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAqB;AACnB,sBACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA,4BACE;AAAA,gBAAKA,KAAK,CAACC,KAAN,CAAYC,UAAZ,GAAwBF,KAAK,CAACC,KAAN,CAAYC,UAApC,GAAiDF,KAAK,CAACC,KAAN,CAAYE;AAAlE;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA,iBAAIH,KAAK,CAACC,KAAN,CAAYG,UAAhB,QAA8BJ,KAAK,CAACC,KAAN,CAAYI,YAA1C;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAIIL,KAAK,CAACC,KAAN,CAAYK,UAAZ,gBAAwB;AAAA,gBAAIN,KAAK,CAACC,KAAN,CAAYK;AAAhB;AAAA;AAAA;AAAA;AAAA,YAAxB,GAA0D,IAJ9D,eAME;AAAA,gBAAIN,KAAK,CAACC,KAAN,CAAYM;AAAhB;AAAA;AAAA;AAAA;AAAA,YANF,eAOE;AAAA,sBAAKP,KAAK,CAACC,KAAN,CAAYO,KAAZ,CAAkBC,QAAlB,GAA6BC,KAA7B,CAAmC,CAAnC,EAAqC,CAArC,CAAL,QAAgDV,KAAK,CAACC,KAAN,CAAYO,KAAZ,CAAkBC,QAAlB,GAA6BC,KAA7B,CAAmC,CAAnC,EAAqC,CAArC,CAAhD,OAA0FV,KAAK,CAACC,KAAN,CAAYO,KAAZ,CAAkBC,QAAlB,GAA6BC,KAA7B,CAAmC,CAAnC,CAA1F;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAWD;;AAED,SAASC,MAAT,CAAgBX,KAAhB,EAAsB;AACpB,QAAM;AAAA,OAACY,MAAD;AAAA,OAASC;AAAT,MAAsBnB,QAAQ,CAAC,EAAD,CAApC;AACA,QAAMoB,OAAO,GAAGlB,MAAM,CAAC,IAAD,CAAtB,CAFoB,CAIpB;;AACAD,EAAAA,SAAS,CAAC,MAAK;AACb,UAAMoB,GAAG,GAAG,8BAAZ;AAEAC,IAAAA,KAAK,CAACD,GAAD,CAAL,CACGE,IADH,CACQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADpB,EAEGF,IAFH,CAESL,MAAM,IAAI;AACf,UAAGE,OAAO,CAACM,OAAX,EAAoB;AACpBP,QAAAA,SAAS,CAACD,MAAM,CAACA,MAAR,CAAT;AACC;AACF,KANH;AAQA,WAAO,MAAME,OAAO,CAACM,OAAR,GAAkB,KAA/B;AACD,GAZQ,EAYP,CAACR,MAAD,CAZO,CAAT;AAcA,sBACE;AAAA,4BACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA,8BACE;AAAI,QAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAGE;AAAS,QAAA,EAAE,EAAC,QAAZ;AAAA,kBAEIA,MAAM,IAAIA,MAAM,CAACS,GAAP,CAAWpB,KAAK,iBACxB,QAAC,KAAD;AAA4B,UAAA,KAAK,EAAEA;AAAnC,WAAYA,KAAK,CAACqB,QAAlB;AAAA;AAAA;AAAA;AAAA,gBADQ;AAFd;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAaE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YAbF;AAAA,kBADF;AAkBD;;AACD,eAAeX,MAAf","sourcesContent":["import React from 'react';\r\nimport {useState, useEffect, useRef} from 'react';\r\nimport Header from '../../components/Header/Header';\r\nimport Footer from '../../components/Footer/Footer';\r\n\r\nimport './Stores.module.css';\r\n\r\nfunction Store(props){\r\n  return(\r\n    <div className='store'>\r\n      <h3>{props.store.store_name? props.store.store_name : props.store.city}</h3>\r\n      <p>{props.store.logradouro}, {props.store.store_number}</p>\r\n      {\r\n        props.store.complement? <p>{props.store.complement}</p> : null\r\n      }\r\n      <p>{props.store.nbh}</p>\r\n      <p>({props.store.phone.toString().slice(0,2)}) {props.store.phone.toString().slice(2,6)}-{props.store.phone.toString().slice(6)}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Stores(props){\r\n  const [stores, setStores] = useState([]);\r\n  const mounted = useRef(true);\r\n\r\n  //console.log(\"store props: \",props);\r\n  useEffect(() =>{\r\n    const url = \"http://localhost:3001/stores\";\r\n    \r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then( stores => {\r\n        if(mounted.current) {         \r\n        setStores(stores.stores);\r\n        }\r\n      });\r\n\r\n    return () => mounted.current = false;\r\n  },[stores]);\r\n\r\n  return(\r\n    <>\r\n      <Header/>\r\n      <main>\r\n        <h1 className=\"sectionTitle\">Lojas</h1>\r\n        \r\n        <section id='stores'>\r\n          {\r\n            stores && stores.map(store =>\r\n              <Store key={store.store_id} store={store}/>\r\n            )\r\n          }\r\n        </section>\r\n      </main>\r\n      <Footer/>\r\n    </>\r\n    \r\n  );\r\n}\r\nexport default Stores;"]},"metadata":{},"sourceType":"module"}