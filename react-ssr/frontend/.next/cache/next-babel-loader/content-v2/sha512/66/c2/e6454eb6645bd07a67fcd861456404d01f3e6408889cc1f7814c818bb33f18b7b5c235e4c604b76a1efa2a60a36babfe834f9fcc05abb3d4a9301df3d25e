{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\maria\\\\Documents\\\\Recode\\\\Curso\\\\ModuloNoSQL\\\\PitangaCos\\\\frontend\\\\src\\\\pages\\\\Stores\\\\Stores.js\";\nimport React from 'react';\nimport { useState, useEffect, useRef } from 'react'; //import Container from 'react-bootstrap/Container';\n\nimport './Stores.css';\n\nfunction Store(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"store\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: props.store.store_name ? props.store.store_name : props.store.city\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [props.store.logradouro, \", \", props.store.store_number]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }, this), props.store.complement ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: props.store.complement\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 33\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"p\", {\n      children: props.store.nbh\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"(\", props.store.phone.toString().slice(0, 2), \") \", props.store.phone.toString().slice(2, 6), \"-\", props.store.phone.toString().slice(6)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 5\n  }, this);\n}\n\nfunction Stores(props) {\n  const {\n    0: stores,\n    1: setStores\n  } = useState([]);\n  const mounted = useRef(true); //console.log(\"store props: \",props);\n\n  useEffect(() => {\n    const url = \"http://localhost:3001/stores\";\n    fetch(url).then(response => response.json()).then(stores => {\n      if (mounted.current) {\n        setStores(stores.stores);\n      }\n    });\n    return () => mounted.current = false;\n  }, [stores]);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"sectionTitle\",\n      children: \"Lojas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"stores\",\n      children: stores && stores.map(store => /*#__PURE__*/_jsxDEV(Store, {\n        store: store\n      }, store.store_id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n\nexport default Stores;","map":{"version":3,"sources":["C:/Users/maria/Documents/Recode/Curso/ModuloNoSQL/PitangaCos/frontend/src/pages/Stores/Stores.js"],"names":["React","useState","useEffect","useRef","Store","props","store","store_name","city","logradouro","store_number","complement","nbh","phone","toString","slice","Stores","stores","setStores","mounted","url","fetch","then","response","json","current","map","store_id"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,EAAkBC,SAAlB,EAA6BC,MAA7B,QAA0C,OAA1C,C,CACA;;AAEA,OAAO,cAAP;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAqB;AACnB,sBACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA,4BACE;AAAA,gBAAKA,KAAK,CAACC,KAAN,CAAYC,UAAZ,GAAwBF,KAAK,CAACC,KAAN,CAAYC,UAApC,GAAiDF,KAAK,CAACC,KAAN,CAAYE;AAAlE;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA,iBAAIH,KAAK,CAACC,KAAN,CAAYG,UAAhB,QAA8BJ,KAAK,CAACC,KAAN,CAAYI,YAA1C;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAIIL,KAAK,CAACC,KAAN,CAAYK,UAAZ,gBAAwB;AAAA,gBAAIN,KAAK,CAACC,KAAN,CAAYK;AAAhB;AAAA;AAAA;AAAA;AAAA,YAAxB,GAA0D,IAJ9D,eAME;AAAA,gBAAIN,KAAK,CAACC,KAAN,CAAYM;AAAhB;AAAA;AAAA;AAAA;AAAA,YANF,eAOE;AAAA,sBAAKP,KAAK,CAACC,KAAN,CAAYO,KAAZ,CAAkBC,QAAlB,GAA6BC,KAA7B,CAAmC,CAAnC,EAAqC,CAArC,CAAL,QAAgDV,KAAK,CAACC,KAAN,CAAYO,KAAZ,CAAkBC,QAAlB,GAA6BC,KAA7B,CAAmC,CAAnC,EAAqC,CAArC,CAAhD,OAA0FV,KAAK,CAACC,KAAN,CAAYO,KAAZ,CAAkBC,QAAlB,GAA6BC,KAA7B,CAAmC,CAAnC,CAA1F;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAWD;;AAED,SAASC,MAAT,CAAgBX,KAAhB,EAAsB;AACpB,QAAM;AAAA,OAACY,MAAD;AAAA,OAASC;AAAT,MAAsBjB,QAAQ,CAAC,EAAD,CAApC;AACA,QAAMkB,OAAO,GAAGhB,MAAM,CAAC,IAAD,CAAtB,CAFoB,CAIpB;;AACAD,EAAAA,SAAS,CAAC,MAAK;AACb,UAAMkB,GAAG,GAAG,8BAAZ;AAEAC,IAAAA,KAAK,CAACD,GAAD,CAAL,CACGE,IADH,CACQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADpB,EAEGF,IAFH,CAESL,MAAM,IAAI;AACf,UAAGE,OAAO,CAACM,OAAX,EAAoB;AACpBP,QAAAA,SAAS,CAACD,MAAM,CAACA,MAAR,CAAT;AACC;AACF,KANH;AAQA,WAAO,MAAME,OAAO,CAACM,OAAR,GAAkB,KAA/B;AACD,GAZQ,EAYP,CAACR,MAAD,CAZO,CAAT;AAcA,sBACE;AAAA,4BACE;AAAI,MAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAGE;AAAS,MAAA,EAAE,EAAC,QAAZ;AAAA,gBAEIA,MAAM,IAAIA,MAAM,CAACS,GAAP,CAAWpB,KAAK,iBACxB,QAAC,KAAD;AAA4B,QAAA,KAAK,EAAEA;AAAnC,SAAYA,KAAK,CAACqB,QAAlB;AAAA;AAAA;AAAA;AAAA,cADQ;AAFd;AAAA;AAAA;AAAA;AAAA,YAHF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAaD;;AACD,eAAeX,MAAf","sourcesContent":["import React from 'react';\r\nimport {useState, useEffect, useRef} from 'react';\r\n//import Container from 'react-bootstrap/Container';\r\n\r\nimport './Stores.css';\r\n\r\nfunction Store(props){\r\n  return(\r\n    <div className='store'>\r\n      <h3>{props.store.store_name? props.store.store_name : props.store.city}</h3>\r\n      <p>{props.store.logradouro}, {props.store.store_number}</p>\r\n      {\r\n        props.store.complement? <p>{props.store.complement}</p> : null\r\n      }\r\n      <p>{props.store.nbh}</p>\r\n      <p>({props.store.phone.toString().slice(0,2)}) {props.store.phone.toString().slice(2,6)}-{props.store.phone.toString().slice(6)}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Stores(props){\r\n  const [stores, setStores] = useState([]);\r\n  const mounted = useRef(true);\r\n\r\n  //console.log(\"store props: \",props);\r\n  useEffect(() =>{\r\n    const url = \"http://localhost:3001/stores\";\r\n    \r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then( stores => {\r\n        if(mounted.current) {         \r\n        setStores(stores.stores);\r\n        }\r\n      });\r\n\r\n    return () => mounted.current = false;\r\n  },[stores]);\r\n\r\n  return(\r\n    <main>\r\n      <h1 className=\"sectionTitle\">Lojas</h1>\r\n      \r\n      <section id='stores'>\r\n        {\r\n          stores && stores.map(store =>\r\n            <Store key={store.store_id} store={store}/>\r\n          )\r\n        }\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\nexport default Stores;"]},"metadata":{},"sourceType":"module"}