{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\maria\\\\Documents\\\\Recode\\\\Curso\\\\ModuloNoSQL\\\\PitangaCos\\\\frontend\\\\src\\\\pages\\\\MyOrders\\\\MyOrders.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { useState, useEffect, useRef } from 'react';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport './MyOrders.css';\n\nfunction ListRow(props) {\n  return /*#__PURE__*/_jsxDEV(ListGroup, {\n    horizontal: \"sm\",\n    variant: \"flush\",\n    children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n      children: props.pedidos.orderID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"img-list\",\n        alt: props.pedidos.name,\n        src: require(`../../${props.pedidos.imageURL}`).default\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n      children: props.pedidos.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n      children: props.pedidos.valueItem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }, this);\n}\n\nfunction MyOrders(props) {\n  const {\n    0: meusPedidos,\n    1: setMeusPedidos\n  } = useState([]);\n  const mounted = useRef(true);\n  console.log(props.user.user);\n  useEffect(() => {\n    const url = `http://localhost:3001/myOrders`;\n    fetch(url, {\n      method: \"GET\",\n      headers: {\n        \"id\": props.user.user._id\n      }\n    }).then(response => response.json()).then(orders => {\n      console.log(\"ORDERS: \", orders);\n\n      if (orders) {\n        if (mounted.current) {\n          setMeusPedidos(orders.orders);\n        }\n      }\n    });\n    return () => mounted.current = false;\n  }, [meusPedidos]);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"sectionTitle\",\n      children: \"Meus Pedidos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"myorders-page\",\n      children: [/*#__PURE__*/_jsxDEV(ListGroup, {\n        horizontal: \"sm\",\n        variant: \"flush\",\n        children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n          children: \"Ordem N\\xBA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n          children: \"Imagem\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n          children: \"Produto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n          children: \"Pre\\xE7o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }, this), meusPedidos && meusPedidos.map(pedidos => /*#__PURE__*/_jsxDEV(ListRow, {\n        pedidos: pedidos\n      }, `${pedidos.orderID}-${pedidos.name}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nexport default connect(mapStateToProps)(MyOrders);","map":{"version":3,"sources":["C:/Users/maria/Documents/Recode/Curso/ModuloNoSQL/PitangaCos/frontend/src/pages/MyOrders/MyOrders.js"],"names":["React","connect","useState","useEffect","useRef","ListGroup","ListRow","props","pedidos","orderID","name","require","imageURL","default","valueItem","MyOrders","meusPedidos","setMeusPedidos","mounted","console","log","user","url","fetch","method","headers","_id","then","response","json","orders","current","map","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\n\r\nimport './MyOrders.css';\r\n\r\nfunction ListRow(props){\r\n  return(\r\n    <ListGroup horizontal=\"sm\" variant=\"flush\">        \r\n      <ListGroup.Item>{props.pedidos.orderID}</ListGroup.Item>\r\n      <ListGroup.Item>\r\n        <img className=\"img-list\" alt={props.pedidos.name} src={require(`../../${props.pedidos.imageURL}`).default}/></ListGroup.Item>\r\n      <ListGroup.Item>{props.pedidos.name}</ListGroup.Item>\r\n      <ListGroup.Item>{props.pedidos.valueItem}</ListGroup.Item>\r\n\r\n    </ListGroup>\r\n  )\r\n}\r\n\r\n\r\nfunction MyOrders(props){\r\n  const [meusPedidos,setMeusPedidos] = useState([]);\r\n  const mounted = useRef(true);\r\n  console.log(props.user.user)\r\n  useEffect(() =>{\r\n    const url =  `http://localhost:3001/myOrders`;\r\n    \r\n    fetch(url,{ \r\n        method: \"GET\",\r\n        headers: {\r\n          \"id\": props.user.user._id\r\n        }\r\n      })\r\n      .then(response => response.json())\r\n      .then( orders => {\r\n        console.log(\"ORDERS: \",orders)\r\n        if(orders){\r\n          if(mounted.current) {         \r\n            setMeusPedidos(orders.orders);\r\n          }\r\n        }        \r\n      });\r\n    return () => mounted.current = false;\r\n  },[meusPedidos]);\r\n\r\n  return(\r\n    <main>\r\n      <h1 className=\"sectionTitle\">Meus Pedidos</h1>\r\n      <section id=\"myorders-page\">\r\n      <ListGroup horizontal=\"sm\" variant=\"flush\">\r\n        <ListGroup.Item>Ordem N&ordm;</ListGroup.Item>\r\n        <ListGroup.Item>Imagem</ListGroup.Item>\r\n        <ListGroup.Item>Produto</ListGroup.Item>\r\n        <ListGroup.Item>Pre√ßo</ListGroup.Item>\r\n      </ListGroup>\r\n      {meusPedidos && meusPedidos.map( pedidos =>\r\n        <ListRow pedidos={pedidos} key={`${pedidos.orderID}-${pedidos.name}`}/>\r\n      )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state =>({\r\n  user: state.user\r\n})\r\n\r\nexport default connect(mapStateToProps)(MyOrders)"]},"metadata":{},"sourceType":"module"}